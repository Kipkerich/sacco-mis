{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
    <h2>Upload SQL Data for Gemini AI Processing</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="sql_data">Paste SQL Data</label>
            <textarea class="form-control" id="sql_data" name="sql_data" rows="8">{{ request.POST.sql_data }}</textarea>
        </div>
        <div class="form-group mt-2">
            <label for="sql_file">Or Upload .sql File</label>
            <input type="file" class="form-control" id="sql_file" name="sql_file" accept=".sql">
        </div>
        <button type="submit" class="btn btn-primary mt-3">Upload & Process</button>
    </form>
    {% if message %}
        <div class="alert alert-info mt-3">{{ message }}</div>
    {% endif %}
    <div class="mt-4">
        <h4>Current Number of Members: <span class="badge bg-success">{{ member_count }}</span></h4>
    </div>
</div>
{% endblock %}
